[{"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\index.js":"1","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\store.js":"2","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\App.js":"3","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\utils\\storage.js":"4","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\Notification.js":"5","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\Blog.js":"6","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\Togglable.js":"7","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\reducers\\blogReducer.js":"8","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\reducers\\loginReducer.js":"9","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\NewBlog.js":"10","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\services\\login.js":"11","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\services\\blogs.js":"12","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\Users.js":"13","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\reducers\\usersReduser.js":"14","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\services\\user.js":"15","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\User.js":"16","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\Blogs.js":"17"},{"size":257,"mtime":1612901153160,"results":"18","hashOfConfig":"19"},{"size":541,"mtime":1614536901475,"results":"20","hashOfConfig":"19"},{"size":4818,"mtime":1614543623055,"results":"21","hashOfConfig":"19"},{"size":315,"mtime":1611504666221,"results":"22","hashOfConfig":"19"},{"size":390,"mtime":1611502876779,"results":"23","hashOfConfig":"19"},{"size":903,"mtime":1616858855410,"results":"24","hashOfConfig":"19"},{"size":819,"mtime":1611502901946,"results":"25","hashOfConfig":"19"},{"size":1820,"mtime":1616858853447,"results":"26","hashOfConfig":"19"},{"size":836,"mtime":1614525170748,"results":"27","hashOfConfig":"19"},{"size":1116,"mtime":1614522685052,"results":"28","hashOfConfig":"19"},{"size":282,"mtime":1614522685079,"results":"29","hashOfConfig":"19"},{"size":872,"mtime":1614522685061,"results":"30","hashOfConfig":"19"},{"size":592,"mtime":1614539057788,"results":"31","hashOfConfig":"19"},{"size":484,"mtime":1614537357045,"results":"32","hashOfConfig":"19"},{"size":181,"mtime":1614537461843,"results":"33","hashOfConfig":"19"},{"size":412,"mtime":1614539521202,"results":"34","hashOfConfig":"19"},{"size":283,"mtime":1614540541898,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"ma5ib6",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"38"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"38"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"38"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\index.js",[],["76","77"],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\store.js",[],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\App.js",["78"],"import React, { useState, useEffect } from 'react'\nimport Blogs from './components/Blogs'\nimport Notification from './components/Notification'\nimport Togglable from './components/Togglable'\nimport NewBlog from './components/NewBlog'\nimport { useDispatch, useSelector } from 'react-redux'\nimport storage from './utils/storage'\nimport { initializeblogs } from './reducers/blogReducer'\nimport { showUser, logOut, logIn } from './reducers/loginReducer'\nimport {\n  BrowserRouter as Router,\n  Switch, Route, Link\n} from \"react-router-dom\"\nimport Users from './components/Users';\nimport User from './components/User'\nimport { handleLike, handleDelete } from './reducers/blogReducer'\nimport Blog from './components/Blog'\nimport { Nav, Navbar } from 'react-bootstrap';\nimport Button from 'react-bootstrap/Button'\nimport Image from 'react-bootstrap/Image'\n\n\n\n\nconst App = () => {\n\n  const padding = {\n    padding: 5,\n    color: \"#fffff\",\n  }\n  const userState = useSelector(state => state.loginUser)\n  const usersState = useSelector(state => state.users)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [notification, setNotification] = useState(null)\n  const user = storage.loadUser()\n  const blogFormRef = React.createRef()\n  const blogState = useSelector(state => state.blogs)\n\n  const like = async (id) => {\n    const toLike = blogState.find(a => a.id === id)\n    dispatch(handleLike(toLike))\n  }\n\n\n  const handleRemove = async (id) => {\n    const toRemove = blogState.find(a => a.id === id)\n    dispatch(handleDelete(toRemove))\n  }\n\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(initializeblogs())\n  }, [dispatch])\n\n\n\n  useEffect(() => {\n    dispatch(showUser(user))\n  }, [dispatch])\n\n  const notifyWith = (message, type = 'success') => {\n    setNotification({\n      message, type\n    })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      dispatch(logIn(password, username))\n      dispatch(showUser(user))\n      notifyWith(`${userState.name} welcome back!`)\n      console.log(userState)\n      dispatch(showUser(user))\n      setUsername('')\n      setPassword('')\n\n\n    } catch (exception) {\n      notifyWith('wrong username/password', 'error')\n    }\n  }\n\n\n\n  const handleLogout = () => {\n    dispatch(logOut(storage.logoutUser()))\n  }\n\n  if (!userState) {\n    return (\n      <div className=\"container\">\n        <h2>login to application</h2>\n\n        <Notification notification={notification} />\n\n        <form onSubmit={handleLogin}>\n          <div>\n            username\n            <input\n              id='username'\n              value={username}\n              onChange={({ target }) => setUsername(target.value)}\n            />\n          </div>\n          <div>\n            password\n            <input\n              id='password'\n              value={password}\n              onChange={({ target }) => setPassword(target.value)}\n            />\n          </div>\n          <button id='login'>login</button>\n        </form>\n      </div>\n    )\n  }\n  return (\n    <div>\n      <Router>\n        <Navbar bg=\"dark\" variant=\"dark\">\n          <Navbar.Brand href=\"#home\">\n            Blogs\n          </Navbar.Brand>\n          <Nav className=\"mr-auto\">\n            <Nav.Link href=\"#\" as=\"span\">\n              <Link style={padding} to=\"/\">home</Link></Nav.Link>\n            <Nav.Link href=\"#\" as=\"span\"><Link style={padding} to=\"/blogs\">blogs</Link></Nav.Link>\n            <Nav.Link href=\"#\" as=\"span\"><Link style={padding} to=\"/users\">users</Link></Nav.Link>\n          </Nav>\n        </Navbar>\n        <div className=\"container\">\n          <Image  src=\"./blog.jpg\" fluid />\n          <h2>Blogs</h2>\n          <Notification notification={notification} />\n          <p>\n            {userState.name} logged in <Button variant=\"info\" onClick={handleLogout}>logout</Button>\n          </p>\n\n          <Switch>\n            <Route path=\"/blogs/:id\">\n              <Blog\n                blogs={blogState}\n                handleLike={like}\n                handleRemove={handleRemove}\n              />\n            </Route>\n            <Route path=\"/blogs\">\n              <Blogs blogs={blogState} />\n              <Togglable buttonLabel='create new blog' ref={blogFormRef}>\n                <NewBlog />\n              </Togglable>\n            </Route>\n            <Route path=\"/users/:id\">\n              <User users={usersState} />\n            </Route>\n            <Route path=\"/users\">\n              <Users users={usersState} />\n            </Route>\n            <Route path=\"/\">\n            </Route>\n          </Switch>\n          <div>\n            <i>Blog app, Anhelina Kulakova 2020</i>\n          </div>\n        </div>\n      </Router>\n    </div>\n  )\n}\n\nexport default App","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\utils\\storage.js",["79"],"const storageKey = 'loggedBlogAppUser'\n\nconst saveUser = (user) =>\n  localStorage.setItem(storageKey, JSON.stringify(user))\n\nconst loadUser = () =>\n  JSON.parse(localStorage.getItem(storageKey))\n\nconst logoutUser = () =>\n  localStorage.removeItem(storageKey)\n\nexport default {\n  saveUser,\n  loadUser,\n  logoutUser\n}","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\Notification.js",[],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\Blog.js",[],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\Togglable.js",[],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\reducers\\blogReducer.js",[],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\reducers\\loginReducer.js",[],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\NewBlog.js",[],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\services\\login.js",["80"],"import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async ({password, username}) => {\n  const credentials = {password, username}\nconsole.log(credentials);\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\n\nexport default { login }","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\services\\blogs.js",["81"],"import axios from 'axios'\nimport storage from '../utils/storage'\n\nconst baseUrl = '/api/blogs'\n\nconst getConfig = () => {\n  return {\n    headers: { Authorization: `bearer ${storage.loadUser().token}` }\n  }\n}\n\nconst getAll = async () => {\n  const response =await axios.get(baseUrl)\n  return response.data\n}\n\nconst create = async ({url, author, title}) => {\n  const object = {title, url, author, likes: 0 }\n  console.log(object, \"obj\");\n  const response = await axios.post(baseUrl, object, getConfig())\n  return response.data\n}\n\nconst update = async (blog) => {\n  const response = await axios.put(`${baseUrl}/${blog.id}`, blog, getConfig())\n  return response.data\n\n}\n\nconst remove = async (id) => {\n  console.log(id, \"SERVICE\")\n  const response = await axios.delete(`${baseUrl}/${id}`, getConfig())\n  return response.data\n}\n\nexport default { getAll, create, update, remove }","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\Users.js",[],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\reducers\\usersReduser.js",[],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\services\\user.js",["82"],"import axios from 'axios'\nconst baseUrl = '/api/users'\n\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nexport default { getAll }","C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\User.js",[],"C:\\Users\\ak206\\OneDrive\\Desktop\\FullStack2020\\part7\\blog\\src\\components\\Blogs.js",[],{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","severity":1,"message":"88","line":61,"column":6,"nodeType":"89","endLine":61,"endColumn":16,"suggestions":"90"},{"ruleId":"91","severity":1,"message":"92","line":12,"column":1,"nodeType":"93","endLine":16,"endColumn":2},{"ruleId":"91","severity":1,"message":"92","line":12,"column":1,"nodeType":"93","endLine":12,"endColumn":25},{"ruleId":"91","severity":1,"message":"92","line":36,"column":1,"nodeType":"93","endLine":36,"endColumn":50},{"ruleId":"91","severity":1,"message":"92","line":10,"column":1,"nodeType":"93","endLine":10,"endColumn":26},"no-native-reassign",["94"],"no-negated-in-lhs",["95"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array.","ArrayExpression",["96"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation",{"desc":"97","fix":"98"},"Update the dependencies array to be: [dispatch, user]",{"range":"99","text":"100"},[1742,1752],"[dispatch, user]"]