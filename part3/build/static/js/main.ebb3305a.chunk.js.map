{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Persons.js","services/persons.js","components/ErrorNotification.js","components/SuccessNotification.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","phone","handlePhoneChange","type","Filter","search","handleSearch","Persons","name","number","handleDelete","console","log","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","ErrorNotification","message","className","SuccessNotification","messageSucsess","App","useState","persons","setPersons","setNewName","setPhone","setSearch","filter","setFilter","allNames","map","person","errorMessage","setErrorMessage","sucessMessage","setSucessMessage","useEffect","personService","initialPersons","createPerson","listObject","length","returnedPerson","concat","setTimeout","catch","error","updatePerson","window","confirm","persona","find","n","changedNumber","display","key","_","p","event","target","includes","filterName","toLowerCase","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ebb3305a.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props) => {\n\n\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        name:\n           <input\n          value={props.newName}\n          onChange={props.handleNameChange} />\n      </div>\n      <div>number:\n          <input\n          value={props.phone}\n          onChange={props.handlePhoneChange}\n        /></div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = (props) => {\n\n\n  return (\n    <div>\n    <input\n      value={props.search}\n      onChange={props.handleSearch}\n    />\n  </div>\n  )\n\n}\n\nexport default Filter","import React from 'react'\n\n\n\nconst Persons = ({name, number, handleDelete}) => {\nconsole.log(name, number)\n  return (\n    <div>\n       <p >{name} {number}</p>\n      <button onClick={handleDelete}>Delete</button>\n    </div>\n  )\n\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePersona = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, deletePersona, update }","import React from 'react'\n\nconst  ErrorNotification = ({ message}) => {\n  if (message === null ) {\n    return null\n  }\n  return (\n    <div>\n     <p  className=\"error\">{message}</p>\n    </div>\n  )\n}\n\nexport default  ErrorNotification","import React from 'react'\n\nconst SuccessNotification = ({  messageSucsess }) => {\n  if (messageSucsess === null) {\n    return null\n  }\n  return (\n    <div>\n     <p  className=\"success\">{messageSucsess}</p>\n    </div>\n  )\n}\n\nexport default SuccessNotification","\nimport React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport ErrorNotification from './components/ErrorNotification'\nimport SuccessNotification from './components/SuccessNotification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [phone, setPhone] = useState('')\n  const [search, setSearch] = useState([])\n  const [filter, setFilter] = useState([])\n  const allNames = persons.map((person) => person.name)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [sucessMessage, setSucessMessage] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  // input name\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n\n  }\n\n  // input phone\n  const handlePhoneChange = (event) => {\n    console.log(event.target.value)\n    setPhone(event.target.value)\n  }\n\n  // search\n  const handleSearch = (event) => {\n    console.log(event.target.value)\n    setSearch(event.target.value)\n    setFilter(allNames.filter(name =>\n      name.includes(search)).map((filterName) => <p>{filterName.toLowerCase()}</p>))\n    console.log(filter, \"search\")\n\n  }\n\n  // add or update person\n  const addPerson = (event) => {\n    event.preventDefault();\n    console.log('button clicked', event.target)\n\n\n    allNames.includes(newName) ? updatePerson() : createPerson()\n  }\n\n  // create  a  new person\n  const createPerson = () => {\n    const listObject = {\n      name: newName,\n      number: phone,\n      id: newName.length + 1,\n    }\n    personService\n      .create(listObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setPhone('')\n        setSucessMessage(`added ${newName}`)\n\n        setTimeout(() => {\n          setSucessMessage(null)\n        }, 5000)\n\n      }).catch(error => {\n        setErrorMessage(\n          error\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n  }\n\n  // delete person\n  const handleDelete = (id, name) => {\n    console.log(\"hello\", id)\n    if (window.confirm(`Do you really want to delete the user ${name}?`) === true) {\n      personService\n        .deletePersona(id)\n        .then(_ => {\n          setPersons(persons.filter(p => id !== p.id))\n        }).catch(error => {\n          setErrorMessage(\n            error\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n\n\n  }\n  // edit person\n  const updatePerson = () => {\n    if (window.confirm(` ${newName} is already exist in phonebook, would you like to update the phone?`) === true) {\n      const persona = persons.find(n => n.name === newName);\n      const id = persona.id\n      console.log(persona);\n      const changedNumber = { ...persona, number: phone }\n      console.log(changedNumber, \"number\")\n      personService\n        .update(id, changedNumber)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          setNewName('')\n          setPhone('')\n          setSucessMessage(`number of ${newName} was changed`)\n          setTimeout(() => {\n            setSucessMessage(null)\n          }, 5000)\n          console.log(persons, \"here\")\n        }).catch(error => {\n          setErrorMessage(\n            `Information of '${newName}' was already removed from server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n\n  }\n\n  const display = search.length > 0 ? filter :\n    persons.map((person) =>\n      <Persons\n        key={person.id}\n        name={person.name}\n        number={person.number}\n        handleDelete={() => handleDelete(person.id, person.name)} />)\n\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <ErrorNotification message={errorMessage} />\n      <SuccessNotification messageSucsess={sucessMessage} />\n      <Filter\n        handleSearch={handleSearch}\n        search={search}\n      />\n      <h1>Add a new</h1>\n      <PersonForm\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handlePhoneChange={handlePhoneChange}\n        phone={phone}\n        newName={newName}\n      />\n      <h1>Numbers</h1>\n      {display}\n\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}